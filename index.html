<!DOCTYPE html>
<html lang="en">
    <script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js')
    .then(reg => console.log('Monetag SW registered:', reg))
    .catch(err => console.log('SW registration failed:', err));
}
</script>
<head>
    <meta name="monetag" content="3d4aea9f4ad101dc79ea2e75be3d898b">
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üõ†Ô∏è</text></svg>">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text & Number Tools | All-in-One Utility Suite</title>
    <meta name="description" content="Free online text and number tools including word counter, case converter, random number generator, BMI calculator, and more. Easy-to-use utilities for everyday tasks.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root {
            --primary: #5e81fe;
            --secondary: #000B58;
            --accent: #ff6b6b;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #e63946;
            --radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --vibrant-1: #ff6b6b;
            --vibrant-2: #4cc9f0;
            --vibrant-3: #5e81fe;
            --vibrant-4: #9d4edd;
            --vibrant-5: #f8961e;
            --vibrant-6: #43aa8b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(to right, #c6ff5c, #000b58);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 40px;
        }

        header {
            background: linear-gradient(to right, var(--primary), #4a6cf7);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0, 11, 88, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            position: relative;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        /* Tool cards layout */
        .tool-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 2rem;
        }

        .tool-card {
            background: white;
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
            border-top: 4px solid var(--primary);
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, var(--vibrant-1), var(--vibrant-2), var(--vibrant-3), var(--vibrant-4), var(--vibrant-5), var(--vibrant-6));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .tool-card:hover::before {
            transform: scaleX(1);
        }

        .tool-card.active {
            border-color: var(--secondary);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .tool-card.active::before {
            transform: scaleX(1);
        }

        .tool-icon {
            font-size: 2.5rem;
            margin-bottom: 0.75rem;
            transition: var(--transition);
        }

        .tool-card:hover .tool-icon {
            transform: scale(1.1);
        }

        .tool-name {
            font-weight: 700;
            color: var(--secondary);
            font-size: 1.1rem;
        }

        .tool-card.active .tool-name {
            color: var(--primary);
        }

        /* Assign different colors to cards */
        .tool-card:nth-child(1) { border-color: var(--vibrant-1); }
        .tool-card:nth-child(2) { border-color: var(--vibrant-2); }
        .tool-card:nth-child(3) { border-color: var(--vibrant-3); }
        .tool-card:nth-child(4) { border-color: var(--vibrant-4); }
        .tool-card:nth-child(5) { border-color: var(--vibrant-5); }
        .tool-card:nth-child(6) { border-color: var(--vibrant-6); }
        .tool-card:nth-child(7) { border-color: var(--vibrant-1); }
        .tool-card:nth-child(8) { border-color: var(--vibrant-2); }
        .tool-card:nth-child(9) { border-color: var(--vibrant-3); }
        .tool-card:nth-child(10) { border-color: var(--vibrant-4); }
        .tool-card:nth-child(11) { border-color: var(--vibrant-5); }
        .tool-card:nth-child(12) { border-color: var(--vibrant-6); }
        .tool-card:nth-child(13) { border-color: var(--vibrant-1); }
        .tool-card:nth-child(14) { border-color: var(--vibrant-2); }
        .tool-card:nth-child(15) { border-color: var(--vibrant-3); }
        .tool-card:nth-child(16) { border-color: var(--vibrant-4); }

        .tool-container {
            background: white;
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            display: none;
            border-top: 4px solid var(--primary);
            animation: fadeIn 0.5s ease;
            scroll-margin-top: 20px;
        }

        .tool-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tool-title {
            color: var(--secondary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light);
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .info-link {
            color: var(--primary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: normal;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .info-link:hover {
            text-decoration: underline;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--secondary);
        }

        textarea, input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        textarea {
            min-height: 150px;
            resize: vertical;
        }

        textarea:focus, input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(94, 129, 254, 0.2);
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: inline-block;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }

        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-accent {
            background: var(--accent);
        }

        .btn-accent:hover {
            background: #e05555;
        }

        .btn-clear {
            background: var(--warning);
        }

        .btn-clear:hover {
            background: #e0861e;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .result-box {
            background: var(--light);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1.5rem;
            border-left: 4px solid var(--primary);
        }

        .stats {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 1rem;
        }

        .stat {
            background: white;
            padding: 15px;
            border-radius: var(--radius);
            flex: 1;
            min-width: 120px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
            border: 1px solid rgba(94, 129, 254, 0.2);
        }

        .stat:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-color: var(--primary);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .case-options {
            display: flex;
            gap: 10px;
            margin-bottom: 1rem;
        }

        .case-btn {
            flex: 1;
            padding: 10px;
            background: var(--light);
            border: 1px solid #ddd;
            border-radius: var(--radius);
            cursor: pointer;
            text-align: center;
            transition: var(--transition);
        }

        .case-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-color: var(--primary);
        }

        .case-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--secondary);
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .calc-group {
            margin-bottom: 1rem;
        }

        .range-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .range-input input {
            flex: 1;
        }

        .range-value {
            min-width: 50px;
            text-align: center;
            font-weight: 600;
            color: var(--secondary);
        }

        .bmi-result {
            text-align: center;
            padding: 20px;
            border-radius: var(--radius);
            margin-top: 1rem;
            font-weight: 700;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .bmi-underweight {
            background: rgba(76, 201, 240, 0.2);
            color: #1a759f;
            border-left: 4px solid #4cc9f0;
        }

        .bmi-normal {
            background: rgba(94, 129, 254, 0.2);
            color: #2d6a00;
            border-left: 4px solid var(--primary);
        }

        .bmi-overweight {
            background: rgba(248, 150, 30, 0.2);
            color: #b76e00;
            border-left: 4px solid #f8961e;
        }

        .bmi-obese {
            background: rgba(230, 57, 70, 0.2);
            color: #a11d33;
            border-left: 4px solid #e63946;
        }

        .bmi-scale {
            display: flex;
            margin-top: 1.5rem;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .bmi-range {
            flex: 1;
            padding: 10px 5px;
            text-align: center;
            color: white;
            font-weight: 600;
            transition: var(--transition);
        }

        .bmi-range:hover {
            transform: scale(1.05);
            z-index: 1;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .bmi-range.underweight {
            background: #4cc9f0;
        }

        .bmi-range.normal {
            background: var(--primary);
        }

        .bmi-range.overweight {
            background: #f8961e;
        }

        .bmi-range.obese {
            background: #e63946;
        }

        .bmi-indicator {
            height: 20px;
            background: linear-gradient(to right, #4cc9f0, var(--primary), #f8961e, #e63946);
            border-radius: 10px;
            margin: 15px 0;
            position: relative;
        }

        .bmi-marker {
            position: absolute;
            top: -5px;
            width: 30px;
            height: 30px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            transform: translateX(-15px);
            transition: var(--transition);
            border: 2px solid var(--secondary);
        }

        .age-result {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-top: 1rem;
        }

        .emi-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 1rem;
        }

        .summary-item {
            background: var(--light);
            padding: 15px;
            border-radius: var(--radius);
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(94, 129, 254, 0.2);
        }

        .summary-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-color: var(--primary);
        }

        .summary-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .percentage-formula {
            margin-top: 1rem;
            padding: 15px;
            background: var(--light);
            border-radius: var(--radius);
            font-family: monospace;
            transition: var(--transition);
            border: 1px solid rgba(94, 129, 254, 0.2);
        }

        .percentage-formula:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* New tool styles */
        .converter-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .converter-row input, .converter-row select {
            flex: 1;
        }

        .timer-display {
            font-size: 3rem;
            text-align: center;
            font-weight: bold;
            color: var(--secondary);
            margin: 1rem 0;
            font-family: monospace;
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .timer-inputs {
            display: flex;
            gap: 10px;
            margin-bottom: 1rem;
        }

        .timer-inputs input {
            text-align: center;
        }

        .qrcode-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 1rem;
        }

        #qrcode {
            margin: 1rem 0;
            padding: 10px;
            background: white;
            border-radius: var(--radius);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }

        .password-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 1rem;
        }

        .password-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .color-preview {
            width: 100px;
            height: 100px;
            border-radius: var(--radius);
            margin: 1rem auto;
            border: 2px solid #ddd;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .color-values {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 1rem;
        }

        .color-value {
            padding: 10px;
            background: var(--light);
            border-radius: var(--radius);
            text-align: center;
            font-family: monospace;
        }

        .gradient-preview {
            height: 150px;
            border-radius: var(--radius);
            margin: 1rem 0;
            border: 2px solid #ddd;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .gradient-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 1rem;
        }

        .gradient-code {
            margin-top: 1rem;
            padding: 15px;
            background: var(--light);
            border-radius: var(--radius);
            font-family: monospace;
            white-space: pre-wrap;
            border: 1px solid rgba(94, 129, 254, 0.2);
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: var(--radius);
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow);
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }

        /* Base64 table styles */
        .base64-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .base64-table th, .base64-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        .base64-table th {
            background-color: var(--primary);
            color: white;
        }

        .base64-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .base64-table tr:hover {
            background-color: #e6f7ff;
        }

        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem;
            color: white;
            animation: fadeIn 1s ease;
        }

        .footer-text {
            font-size: 1rem;
            font-weight: 500;
        }

        /* Currency converter specific styles */
        .currency-search-container {
            position: relative;
            margin-bottom: 1rem;
        }

        .currency-search-input {
            width: 100%;
            padding: 12px 40px 12px 12px;
        }

        .currency-search-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        .currency-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: var(--radius);
            margin-top: 5px;
            background: white;
            display: none;
            position: absolute;
            width: 100%;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .currency-list.active {
            display: block;
        }

        .currency-option {
            padding: 10px 12px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            transition: var(--transition);
        }

        .currency-option:hover {
            background: var(--light);
        }

        .currency-option:last-child {
            border-bottom: none;
        }

        .currency-code {
            font-weight: bold;
            color: var(--primary);
        }

        .currency-name {
            color: #666;
            font-size: 0.9rem;
        }

        .exchange-rate-info {
            margin-top: 1rem;
            padding: 10px;
            background: var(--light);
            border-radius: var(--radius);
            font-size: 0.9rem;
        }

        .last-updated {
            font-style: italic;
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .tool-cards {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .bmi-scale {
                flex-direction: column;
            }
            
            .bmi-range {
                padding: 15px 5px;
            }
            
            .timer-display {
                font-size: 2rem;
            }
            
            .converter-row {
                flex-direction: column;
            }
            
            .base64-table {
                font-size: 0.7rem;
            }
            
            .modal-content {
                padding: 1rem;
            }
            
            .btn-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Text & Number Tools</h1>
        <p class="subtitle">Your all-in-one utility suite for text manipulation, calculations, and conversions. Free, fast, and easy to use!</p>
    </header>

    <div class="container">
        <div class="tool-cards">
            <div class="tool-card active" data-tool="word-counter">
                <div class="tool-icon">üìù</div>
                <div class="tool-name">Word Counter</div>
            </div>
            <div class="tool-card" data-tool="case-converter">
                <div class="tool-icon">üî†</div>
                <div class="tool-name">Case Converter</div>
            </div>
            <div class="tool-card" data-tool="space-remover">
                <div class="tool-icon">‚úÇÔ∏è</div>
                <div class="tool-name">Space Remover</div>
            </div>
            <div class="tool-card" data-tool="random-generator">
                <div class="tool-icon">üé≤</div>
                <div class="tool-name">Random Generator</div>
            </div>
            <div class="tool-card" data-tool="bmi-calculator">
                <div class="tool-icon">‚öñÔ∏è</div>
                <div class="tool-name">BMI Calculator</div>
            </div>
            <div class="tool-card" data-tool="age-calculator">
                <div class="tool-icon">üéÇ</div>
                <div class="tool-name">Age Calculator</div>
            </div>
            <div class="tool-card" data-tool="emi-calculator">
                <div class="tool-icon">üí∞</div>
                <div class="tool-name">EMI Calculator</div>
            </div>
            <div class="tool-card" data-tool="percentage-calculator">
                <div class="tool-icon">%</div>
                <div class="tool-name">Percentage Calculator</div>
            </div>
            <div class="tool-card" data-tool="unit-converter">
                <div class="tool-icon">üìè</div>
                <div class="tool-name">Unit Converter</div>
            </div>
            <div class="tool-card" data-tool="currency-converter">
                <div class="tool-icon">üíµ</div>
                <div class="tool-name">Currency Converter</div>
            </div>
            <div class="tool-card" data-tool="timer-stopwatch">
                <div class="tool-icon">‚è±Ô∏è</div>
                <div class="tool-name">Timer/Stopwatch</div>
            </div>
            <div class="tool-card" data-tool="qr-generator">
                <div class="tool-icon">üì∑</div>
                <div class="tool-name">QR Generator</div>
            </div>
            <div class="tool-card" data-tool="base64-tool">
                <div class="tool-icon">üîê</div>
                <div class="tool-name">Base64 Tool</div>
            </div>
            <div class="tool-card" data-tool="password-generator">
                <div class="tool-icon">üîë</div>
                <div class="tool-name">Password Generator</div>
            </div>
            <div class="tool-card" data-tool="color-picker">
                <div class="tool-icon">üé®</div>
                <div class="tool-name">Color Picker</div>
            </div>
            <div class="tool-card" data-tool="gradient-generator">
                <div class="tool-icon">üåà</div>
                <div class="tool-name">Gradient Generator</div>
            </div>
        </div>

        <div class="tool-container active" id="word-counter">
            <h2 class="tool-title">Word & Character Counter</h2>
            <div class="input-group">
                <label for="text-input">Enter your text below:</label>
                <textarea id="text-input" placeholder="Type or paste your text here..."></textarea>
            </div>
            <div class="btn-group">
                <button class="btn btn-clear" id="clear-word-counter">Clear</button>
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="word-count">0</div>
                    <div class="stat-label">Words</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="char-count">0</div>
                    <div class="stat-label">Characters</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="char-no-space">0</div>
                    <div class="stat-label">Characters (no spaces)</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="sentence-count">0</div>
                    <div class="stat-label">Sentences</div>
                </div>
            </div>
        </div>

        <div class="tool-container" id="case-converter">
            <h2 class="tool-title">Text Case Converter</h2>
            <div class="input-group">
                <label for="case-input">Enter your text:</label>
                <textarea id="case-input" placeholder="Type or paste your text here..."></textarea>
            </div>
            <div class="case-options">
                <div class="case-btn active" data-case="upper">UPPERCASE</div>
                <div class="case-btn" data-case="lower">lowercase</div>
                <div class="case-btn" data-case="title">Title Case</div>
                <div class="case-btn" data-case="sentence">Sentence case</div>
            </div>
            <div class="input-group">
                <label for="case-output">Converted text:</label>
                <textarea id="case-output" readonly></textarea>
            </div>
            <div class="btn-group">
                <button class="btn" id="copy-case">Copy to Clipboard</button>
                <button class="btn btn-clear" id="clear-case-converter">Clear</button>
            </div>
        </div>

        <div class="tool-container" id="space-remover">
            <h2 class="tool-title">Remove Extra Spaces & Line Breaks</h2>
            <div class="input-group">
                <label for="space-input">Enter your text:</label>
                <textarea id="space-input" placeholder="Type or paste your text with extra spaces or line breaks..."></textarea>
            </div>
            <div class="btn-group">
                <button class="btn" id="remove-spaces">Remove Extra Spaces</button>
                <button class="btn" id="remove-line-breaks">Remove Line Breaks</button>
                <button class="btn btn-clear" id="clear-space-remover">Clear</button>
            </div>
            <div class="input-group">
                <label for="space-output">Cleaned text:</label>
                <textarea id="space-output" readonly></textarea>
            </div>
            <div class="btn-group">
                <button class="btn" id="copy-space">Copy to Clipboard</button>
            </div>
        </div>

        <div class="tool-container" id="random-generator">
            <h2 class="tool-title">Random Number Generator</h2>
            <div class="calculator-grid">
                <div class="calc-group">
                    <label for="min-value">Minimum Value:</label>
                    <input type="number" id="min-value" value="1">
                </div>
                <div class="calc-group">
                    <label for="max-value">Maximum Value:</label>
                    <input type="number" id="max-value" value="100">
                </div>
                <div class="calc-group">
                    <label for="count">How many numbers:</label>
                    <input type="number" id="count" value="1" min="1" max="100">
                </div>
            </div>
            <div class="btn-group">
                <button class="btn" id="generate-random">Generate Random Numbers</button>
                <button class="btn btn-clear" id="clear-random-generator">Clear</button>
            </div>
            <div class="result-box">
                <h3>Generated Numbers:</h3>
                <div id="random-result">Click "Generate" to get random numbers</div>
            </div>
        </div>

        <div class="tool-container" id="bmi-calculator">
            <h2 class="tool-title">BMI Calculator</h2>
            <div class="calculator-grid">
                <div class="calc-group">
                    <label for="height">Height (cm):</label>
                    <input type="number" id="height" placeholder="Enter height in cm">
                </div>
                <div class="calc-group">
                    <label for="weight">Weight (kg):</label>
                    <input type="number" id="weight" placeholder="Enter weight in kg">
                </div>
            </div>
            <div class="btn-group">
                <button class="btn" id="calculate-bmi">Calculate BMI</button>
                <button class="btn btn-clear" id="clear-bmi-calculator">Clear</button>
            </div>
            <div class="result-box">
                <h3>Your BMI Result:</h3>
                <div id="bmi-result">Enter your height and weight to calculate BMI</div>
                <div id="bmi-category"></div>
                
                <div class="bmi-indicator">
                    <div class="bmi-marker" id="bmi-marker"></div>
                </div>
                
                <div class="bmi-scale">
                    <div class="bmi-range underweight">Underweight<br>&lt; 18.5</div>
                    <div class="bmi-range normal">Normal<br>18.5 - 24.9</div>
                    <div class="bmi-range overweight">Overweight<br>25 - 29.9</div>
                    <div class="bmi-range obese">Obese<br>30+</div>
                </div>
            </div>
        </div>

        <div class="tool-container" id="age-calculator">
            <h2 class="tool-title">Age Calculator</h2>
            <div class="calculator-grid">
                <div class="calc-group">
                    <label for="birth-date">Date of Birth:</label>
                    <input type="date" id="birth-date">
                </div>
                <div class="calc-group">
                    <label for="age-at-date">Age at this date (optional):</label>
                    <input type="date" id="age-at-date">
                </div>
            </div>
            <div class="btn-group">
                <button class="btn" id="calculate-age">Calculate Age</button>
                <button class="btn btn-clear" id="clear-age-calculator">Clear</button>
            </div>
            <div class="result-box">
                <h3>Your Age:</h3>
                <div id="age-result">Select your date of birth to calculate age</div>
            </div>
        </div>

        <div class="tool-container" id="emi-calculator">
            <h2 class="tool-title">Loan EMI Calculator</h2>
            <div class="calculator-grid">
                <div class="calc-group">
                    <label for="loan-amount">Loan Amount ($):</label>
                    <input type="number" id="loan-amount" value="10000">
                </div>
                <div class="calc-group">
                    <label for="interest-rate">Annual Interest Rate (%):</label>
                    <div class="range-input">
                        <input type="range" id="interest-rate" min="1" max="30" step="0.1" value="7.5">
                        <span class="range-value" id="interest-value">7.5%</span>
                    </div>
                </div>
                <div class="calc-group">
                    <label for="loan-tenure">Loan Tenure (months):</label>
                    <div class="range-input">
                        <input type="range" id="loan-tenure" min="6" max="360" step="6" value="60">
                        <span class="range-value" id="tenure-value">60 months</span>
                    </div>
                </div>
            </div>
            <div class="btn-group">
                <button class="btn" id="calculate-emi">Calculate EMI</button>
                <button class="btn btn-clear" id="clear-emi-calculator">Clear</button>
            </div>
            <div class="result-box">
                <h3>Loan Summary:</h3>
                <div class="emi-summary">
                    <div class="summary-item">
                        <div class="summary-value" id="emi-amount">$0</div>
                        <div class="stat-label">Monthly Payment</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="total-interest">$0</div>
                        <div class="stat-label">Total Interest</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="total-payment">$0</div>
                        <div class="stat-label">Total Payment</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tool-container" id="percentage-calculator">
            <h2 class="tool-title">Percentage Calculator</h2>
            <div class="calculator-grid">
                <div class="calc-group">
                    <label for="percentage-type">Calculation Type:</label>
                    <select id="percentage-type">
                        <option value="x-is-what-percent-of-y">X is what % of Y?</option>
                        <option value="x-percent-of-y">What is X% of Y?</option>
                        <option value="percent-change">Percent change (from X to Y)</option>
                    </select>
                </div>
                <div class="calc-group">
                    <label for="value-x">Value X:</label>
                    <input type="number" id="value-x" placeholder="Enter value">
                </div>
                <div class="calc-group">
                    <label for="value-y">Value Y:</label>
                    <input type="number" id="value-y" placeholder="Enter value">
                </div>
            </div>
            <div class="btn-group">
                <button class="btn" id="calculate-percentage">Calculate</button>
                <button class="btn btn-clear" id="clear-percentage-calculator">Clear</button>
            </div>
            <div class="result-box">
                <h3>Result:</h3>
                <div id="percentage-result">Select calculation type and enter values</div>
                <div class="percentage-formula" id="percentage-formula"></div>
            </div>
        </div>

        <div class="tool-container" id="unit-converter">
            <h2 class="tool-title">Unit Converter</h2>
            <div class="input-group">
                <label for="conversion-type">Conversion Type:</label>
                <select id="conversion-type">
                    <option value="length">Length</option>
                    <option value="weight">Weight</option>
                    <option value="temperature">Temperature</option>
                    <option value="area">Area</option>
                    <option value="volume">Volume</option>
                </select>
            </div>
            <div class="converter-row">
                <input type="number" id="from-value" value="1">
                <select id="from-unit"></select>
                <span>to</span>
                <select id="to-unit"></select>
                <input type="number" id="to-value" readonly>
            </div>
            <div class="btn-group">
                <button class="btn" id="convert-units">Convert</button>
                <button class="btn btn-clear" id="clear-unit-converter">Clear</button>
            </div>
        </div>

        <div class="tool-container" id="currency-converter">
            <h2 class="tool-title">Live Currency Converter</h2>
            <div class="input-group">
                <label>From Currency:</label>
                <div class="currency-search-container">
                    <input type="text" id="from-currency" class="currency-search-input" placeholder="Search or type currency code (e.g. USD)" value="USD">
                    <div class="currency-search-icon">üîç</div>
                    <div class="currency-list" id="from-currency-list"></div>
                </div>
            </div>
            <div class="input-group">
                <label>To Currency:</label>
                <div class="currency-search-container">
                    <input type="text" id="to-currency" class="currency-search-input" placeholder="Search or type currency code (e.g. EUR)" value="EUR">
                    <div class="currency-search-icon">üîç</div>
                    <div class="currency-list" id="to-currency-list"></div>
                </div>
            </div>
            <div class="converter-row">
                <input type="number" id="from-amount" value="1" placeholder="Amount">
                <span>to</span>
                <input type="number" id="to-amount" readonly placeholder="Converted amount">
            </div>
            <div class="btn-group">
                <button class="btn" id="convert-currency">Convert</button>
                <button class="btn btn-clear" id="clear-currency-converter">Clear</button>
                <button class="btn" id="refresh-rates">Refresh Rates</button>
            </div>
            <div class="result-box">
                <div id="exchange-rate">Exchange rate: </div>
                <div class="last-updated" id="last-updated">Last updated: </div>
            </div>
        </div>

        <div class="tool-container" id="timer-stopwatch">
            <h2 class="tool-title">Countdown Timer & Stopwatch</h2>
            <div class="case-options">
                <div class="case-btn active" data-mode="timer">Timer</div>
                <div class="case-btn" data-mode="stopwatch">Stopwatch</div>
            </div>
            <div id="timer-section">
                <div class="timer-inputs">
                    <input type="number" id="hours" placeholder="HH" min="0" max="23">
                    <span>:</span>
                    <input type="number" id="minutes" placeholder="MM" min="0" max="59">
                    <span>:</span>
                    <input type="number" id="seconds" placeholder="SS" min="0" max="59">
                </div>
                <div class="timer-display" id="timer-display">00:00:00</div>
                <div class="timer-controls">
                    <button class="btn" id="start-timer">Start</button>
                    <button class="btn" id="pause-timer">Pause</button>
                    <button class="btn" id="reset-timer">Reset</button>
                    <button class="btn btn-clear" id="clear-timer">Clear</button>
                </div>
            </div>
            <div id="stopwatch-section" style="display: none;">
                <div class="timer-display" id="stopwatch-display">00:00:00</div>
                <div class="timer-controls">
                    <button class="btn" id="start-stopwatch">Start</button>
                    <button class="btn" id="stop-stopwatch">Stop</button>
                    <button class="btn" id="reset-stopwatch">Reset</button>
                    <button class="btn btn-clear" id="clear-stopwatch">Clear</button>
                </div>
            </div>
        </div>

        <div class="tool-container" id="qr-generator">
            <h2 class="tool-title">QR Code Generator</h2>
            <div class="input-group">
                <label for="qr-text">Enter text or URL:</label>
                <textarea id="qr-text" placeholder="Enter text or URL to generate QR code..."></textarea>
            </div>
            <div class="btn-group">
                <button class="btn" id="generate-qr">Generate QR Code</button>
                <button class="btn btn-clear" id="clear-qr-generator">Clear</button>
            </div>
            <div class="qrcode-container">
                <div id="qrcode"></div>
                <button class="btn" id="download-qr" style="display: none;">Download QR Code</button>
            </div>
        </div>

        <div class="tool-container" id="base64-tool">
            <h2 class="tool-title">
                Base64 Encode/Decode Tool
                <a href="#" class="info-link" id="base64-info">‚ÑπÔ∏è What is Base64?</a>
            </h2>
            <div class="input-group">
                <label for="base64-input">Enter text to encode or Base64 to decode:</label>
                <textarea id="base64-input" placeholder="Enter text or Base64 string..."></textarea>
            </div>
            <div class="case-options">
                <div class="case-btn active" data-action="encode">Encode to Base64</div>
                <div class="case-btn" data-action="decode">Decode from Base64</div>
            </div>
            <div class="input-group">
                <label for="base64-output">Result:</label>
                <textarea id="base64-output" readonly></textarea>
            </div>
            <div class="btn-group">
                <button class="btn" id="copy-base64">Copy to Clipboard</button>
                <button class="btn btn-clear" id="clear-base64-tool">Clear</button>
            </div>
        </div>

        <div class="tool-container" id="password-generator">
            <h2 class="tool-title">Password Generator</h2>
            <div class="input-group">
                <label for="password-length">Password Length:</label>
                <div class="range-input">
                    <input type="range" id="password-length" min="8" max="32" value="12">
                    <span class="range-value" id="length-value">12</span>
                </div>
            </div>
            <div class="password-options">
                <div class="password-option">
                    <input type="checkbox" id="uppercase" checked>
                    <label for="uppercase">Uppercase Letters (A-Z)</label>
                </div>
                <div class="password-option">
                    <input type="checkbox" id="lowercase" checked>
                    <label for="lowercase">Lowercase Letters (a-z)</label>
                </div>
                <div class="password-option">
                    <input type="checkbox" id="numbers" checked>
                    <label for="numbers">Numbers (0-9)</label>
                </div>
                <div class="password-option">
                    <input type="checkbox" id="symbols">
                    <label for="symbols">Symbols (!@#$%^&*)</label>
                </div>
            </div>
            <div class="btn-group">
                <button class="btn" id="generate-password">Generate Password</button>
                <button class="btn btn-clear" id="clear-password-generator">Clear</button>
            </div>
            <div class="result-box">
                <h3>Your Password:</h3>
                <div id="password-result">Click "Generate" to create a password</div>
                <button class="btn" id="copy-password" style="display: none;">Copy Password</button>
            </div>
        </div>

        <div class="tool-container" id="color-picker">
            <h2 class="tool-title">Color Picker Tool</h2>
            <div class="input-group">
                <label for="color-selector">Select a color:</label>
                <input type="color" id="color-selector" value="#5e81fe">
            </div>
            <div class="btn-group">
                <button class="btn btn-clear" id="clear-color-picker">Reset to Default</button>
            </div>
            <div class="color-preview" id="color-preview" style="background-color: #5e81fe;"></div>
            <div class="color-values">
                <div class="color-value">
                    <strong>HEX:</strong> <span id="hex-value">#5e81fe</span>
                </div>
                <div class="color-value">
                    <strong>RGB:</strong> <span id="rgb-value">rgb(94, 129, 254)</span>
                </div>
                <div class="color-value">
                    <strong>HSL:</strong> <span id="hsl-value">hsl(228, 99%, 68%)</span>
                </div>
            </div>
        </div>

        <div class="tool-container" id="gradient-generator">
            <h2 class="tool-title">CSS Gradient Generator</h2>
            <div class="gradient-controls">
                <div class="calc-group">
                    <label for="color-one">Color 1 (Start):</label>
                    <input type="color" id="color-one" value="#5e81fe">
                </div>
                <div class="calc-group">
                    <label for="color-two">Color 2 (End):</label>
                    <input type="color" id="color-two" value="#000B58">
                </div>
                <div class="calc-group">
                    <label for="gradient-direction">Direction/Type:</label>
                    <select id="gradient-direction">
                        <option value="to right">Linear (to right)</option>
                        <option value="to left">Linear (to left)</option>
                        <option value="to top">Linear (to top)</option>
                        <option value="to bottom">Linear (to bottom)</option>
                        <option value="45deg">Linear (45¬∞)</option>
                        <option value="radial">Radial</option>
                    </select>
                </div>
            </div>
            <div class="btn-group">
                <button class="btn" id="copy-gradient">Copy CSS Code</button>
                <button class="btn btn-clear" id="clear-gradient-generator">Reset</button>
            </div>
            <div class="gradient-preview" id="gradient-preview" style="background: linear-gradient(to right, #5e81fe, #000B58);"></div>
            <div class="result-box">
                <h3>Generated CSS Code:</h3>
                <pre class="gradient-code" id="gradient-code">background: linear-gradient(to right, #5e81fe, #000B58);</pre>
            </div>
        </div>
    </div>

    <div id="base64Modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 class="tool-title">What is Base64?</h2>
            <p><strong>Base64</strong> is a group of binary-to-text encoding schemes that represent binary data (like images or text) in an ASCII string format by translating it into a radix-64 representation.</p>
            <p>The primary use of Base64 is to encode binary data so that it can be safely and reliably transferred across media, such as email or URLs, that are designed to handle text. It is commonly used for:</p>
            <ul>
                <li>Encoding images and other binary data in web pages (e.g., Data URIs).</li>
                <li>Transferring data securely in protocols like email (MIME).</li>
                <li>Obfuscating simple strings, though it is **not** an encryption method.</li>
            </ul>
            <p>It uses 64 characters for encoding. The standard Base64 character set includes:</p>
            <ul>
                <li>**26 uppercase letters**: A-Z</li>
                <li>**26 lowercase letters**: a-z</li>
                <li>**10 digits**: 0-9</li>
                <li>**2 symbols**: + and /</li>
                <li>**Padding character**: = (used to ensure the encoded string is a multiple of 4 bytes)</li>
            </ul>
            <p>The encoding process works by representing the 24 bits of three 8-bit characters as four 6-bit Base64 digits, then converting these digits to the standard characters.</p>

            <h3 style="margin-top: 1.5rem;">Base64 Index Table</h3>
            <table class="base64-table">
                <thead>
                    <tr>
                        <th>Value</th>
                        <th>Char</th>
                        <th>Value</th>
                        <th>Char</th>
                        <th>Value</th>
                        <th>Char</th>
                        <th>Value</th>
                        <th>Char</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>0</td><td>A</td><td>16</td><td>Q</td><td>32</td><td>g</td><td>48</td><td>w</td></tr>
                    <tr><td>1</td><td>B</td><td>17</td><td>R</td><td>33</td><td>h</td><td>49</td><td>x</td></tr>
                    <tr><td>2</td><td>C</td><td>18</td><td>S</td><td>34</td><td>i</td><td>50</td><td>y</td></tr>
                    <tr><td>3</td><td>D</td><td>19</td><td>T</td><td>35</td><td>j</td><td>51</td><td>z</td></tr>
                    <tr><td>4</td><td>E</td><td>20</td><td>U</td><td>36</td><td>k</td><td>52</td><td>0</td></tr>
                    <tr><td>5</td><td>F</td><td>21</td><td>V</td><td>37</td><td>l</td><td>53</td><td>1</td></tr>
                    <tr><td>6</td><td>G</td><td>22</td><td>W</td><td>38</td><td>m</td><td>54</td><td>2</td></tr>
                    <tr><td>7</td><td>H</td><td>23</td><td>X</td><td>39</td><td>n</td><td>55</td><td>3</td></tr>
                    <tr><td>8</td><td>I</td><td>24</td><td>Y</td><td>40</td><td>o</td><td>56</td><td>4</td></tr>
                    <tr><td>9</td><td>J</td><td>25</td><td>Z</td><td>41</td><td>p</td><td>57</td><td>5</td></tr>
                    <tr><td>10</td><td>K</td><td>26</td><td>a</td><td>42</td><td>q</td><td>58</td><td>6</td></tr>
                    <tr><td>11</td><td>L</td><td>27</td><td>b</td><td>43</td><td>r</td><td>59</td><td>7</td></tr>
                    <tr><td>12</td><td>M</td><td>28</td><td>c</td><td>44</td><td>s</td><td>60</td><td>8</td></tr>
                    <tr><td>13</td><td>N</td><td>29</td><td>d</td><td>45</td><td>t</td><td>61</td><td>9</td></tr>
                    <tr><td>14</td><td>O</td><td>30</td><td>e</td><td>46</td><td>u</td><td>62</td><td>+</td></tr>
                    <tr><td>15</td><td>P</td><td>31</td><td>f</td><td>47</td><td>v</td><td>63</td><td>/</td></tr>
                </tbody>
            </table>
        </div>
    </div>


    <footer>
        <p class="footer-text">&copy; 2025 Text & Number Tools. Built with üíô by a developer who loves utility apps. All rights reserved.</p>
    </footer>

    <script>
        
      self.options = {
    "domain": "3nbf4.com",
    "zoneId": 10114556
}
self.lary = ""
importScripts('https://3nbf4.com/act/files/service-worker.min.js?r=sw')
        
        document.addEventListener('DOMContentLoaded', () => {
            const toolCards = document.querySelectorAll('.tool-card');
            const toolContainers = document.querySelectorAll('.tool-container');
            const toolName = document.querySelector('h1');
            const toolSubtitle = document.querySelector('.subtitle');

            // --- Core Functionality ---

            toolCards.forEach(card => {
                card.addEventListener('click', () => {
                    const toolId = card.getAttribute('data-tool');

                    // 1. Update active card
                    toolCards.forEach(c => c.classList.remove('active'));
                    card.classList.add('active');

                    // 2. Switch tool container
                    toolContainers.forEach(container => {
                        container.classList.remove('active');
                        if (container.id === toolId) {
                            container.classList.add('active');
                            container.scrollIntoView();
                        }
                    });

                    // 3. Update Header (Optional but nice UX)
                    const name = card.querySelector('.tool-name').textContent;
                    toolName.textContent = name;
                    toolSubtitle.textContent = `A fast, free, and easy-to-use online ${name.toLowerCase()} utility.`;
                });
            });

            // --- Tool Implementations ---

            // General Copy Function
            const copyToClipboard = (text, button) => {
                navigator.clipboard.writeText(text).then(() => {
                    const originalText = button.textContent;
                    button.textContent = 'Copied!';
                    setTimeout(() => {
                        button.textContent = originalText;
                    }, 2000);
                }).catch(err => {
                    console.error('Could not copy text: ', err);
                });
            };

            // 1. Word Counter
            const textInput = document.getElementById('text-input');
            const wordCount = document.getElementById('word-count');
            const charCount = document.getElementById('char-count');
            const charNoSpace = document.getElementById('char-no-space');
            const sentenceCount = document.getElementById('sentence-count');
            const clearWordCounterBtn = document.getElementById('clear-word-counter');

            const updateWordCount = () => {
                const text = textInput.value;
                const words = text.match(/\b\w+\b/g) || [];
                const sentences = text.split(/[.!?]\s+|\n/g).filter(s => s.trim() !== '');

                wordCount.textContent = words.length;
                charCount.textContent = text.length;
                charNoSpace.textContent = text.replace(/\s/g, '').length;
                sentenceCount.textContent = sentences.length;
            };

            textInput.addEventListener('input', updateWordCount);
            clearWordCounterBtn.addEventListener('click', () => {
                textInput.value = '';
                updateWordCount();
            });

            // 2. Case Converter
            const caseInput = document.getElementById('case-input');
            const caseOutput = document.getElementById('case-output');
            const caseBtns = document.querySelectorAll('.case-converter .case-btn');
            const copyCaseBtn = document.getElementById('copy-case');
            const clearCaseConverterBtn = document.getElementById('clear-case-converter');
            let currentCase = 'upper';

            const convertCase = () => {
                const text = caseInput.value;
                let convertedText = '';

                switch (currentCase) {
                    case 'upper':
                        convertedText = text.toUpperCase();
                        break;
                    case 'lower':
                        convertedText = text.toLowerCase();
                        break;
                    case 'title':
                        convertedText = text.toLowerCase().split(' ').map(word => {
                            if (!word) return '';
                            return word.charAt(0).toUpperCase() + word.slice(1);
                        }).join(' ');
                        break;
                    case 'sentence':
                        convertedText = text.toLowerCase().replace(/(^\s*\w|[.?!]\s*\w)/g, (c) => c.toUpperCase());
                        break;
                    default:
                        convertedText = text;
                }
                caseOutput.value = convertedText;
            };

            caseBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    currentCase = btn.getAttribute('data-case');
                    caseBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    convertCase();
                });
            });

            caseInput.addEventListener('input', convertCase);
            copyCaseBtn.addEventListener('click', () => copyToClipboard(caseOutput.value, copyCaseBtn));
            clearCaseConverterBtn.addEventListener('click', () => {
                caseInput.value = '';
                caseOutput.value = '';
            });

            // 3. Space Remover
            const spaceInput = document.getElementById('space-input');
            const spaceOutput = document.getElementById('space-output');
            const removeSpacesBtn = document.getElementById('remove-spaces');
            const removeLineBreaksBtn = document.getElementById('remove-line-breaks');
            const copySpaceBtn = document.getElementById('copy-space');
            const clearSpaceRemoverBtn = document.getElementById('clear-space-remover');

            removeSpacesBtn.addEventListener('click', () => {
                const text = spaceInput.value.replace(/\s+/g, ' ').trim();
                spaceOutput.value = text;
            });

            removeLineBreaksBtn.addEventListener('click', () => {
                const text = spaceInput.value.replace(/(\r\n|\n|\r)/gm, " ").replace(/\s+/g, ' ').trim();
                spaceOutput.value = text;
            });

            copySpaceBtn.addEventListener('click', () => copyToClipboard(spaceOutput.value, copySpaceBtn));
            clearSpaceRemoverBtn.addEventListener('click', () => {
                spaceInput.value = '';
                spaceOutput.value = '';
            });

            // 4. Random Generator
            const minValue = document.getElementById('min-value');
            const maxValue = document.getElementById('max-value');
            const count = document.getElementById('count');
            const generateRandomBtn = document.getElementById('generate-random');
            const randomResult = document.getElementById('random-result');
            const clearRandomGeneratorBtn = document.getElementById('clear-random-generator');

            generateRandomBtn.addEventListener('click', () => {
                const min = parseInt(minValue.value);
                const max = parseInt(maxValue.value);
                const numCount = parseInt(count.value);

                if (isNaN(min) || isNaN(max) || isNaN(numCount) || min > max || numCount < 1) {
                    randomResult.innerHTML = '<span style="color: var(--danger);">Please enter valid minimum, maximum, and count values.</span>';
                    return;
                }

                const numbers = [];
                for (let i = 0; i < numCount; i++) {
                    const randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;
                    numbers.push(randomNumber);
                }

                randomResult.innerHTML = numbers.join(', ');
            });

            clearRandomGeneratorBtn.addEventListener('click', () => {
                minValue.value = '1';
                maxValue.value = '100';
                count.value = '1';
                randomResult.textContent = 'Click "Generate" to get random numbers';
            });

            // 5. BMI Calculator
            const heightInput = document.getElementById('height');
            const weightInput = document.getElementById('weight');
            const calculateBmiBtn = document.getElementById('calculate-bmi');
            const bmiResultDiv = document.getElementById('bmi-result');
            const bmiCategoryDiv = document.getElementById('bmi-category');
            const bmiMarker = document.getElementById('bmi-marker');
            const clearBmiCalculatorBtn = document.getElementById('clear-bmi-calculator');

            const calculateBMI = () => {
                const heightCm = parseFloat(heightInput.value);
                const weightKg = parseFloat(weightInput.value);

                if (isNaN(heightCm) || isNaN(weightKg) || heightCm <= 0 || weightKg <= 0) {
                    bmiResultDiv.textContent = 'Please enter valid height and weight.';
                    bmiResultDiv.className = 'bmi-result';
                    bmiCategoryDiv.textContent = '';
                    bmiMarker.style.left = '-100px'; // Hide marker
                    return;
                }

                const heightM = heightCm / 100;
                const bmi = weightKg / (heightM * heightM);
                const roundedBmi = bmi.toFixed(2);

                let category = '';
                let resultClass = '';
                let markerPosition = 0; // 0 to 100 for visual marker

                if (bmi < 18.5) {
                    category = 'Underweight';
                    resultClass = 'bmi-underweight';
                    markerPosition = (bmi / 18.5) * 20; // 0 to 20%
                } else if (bmi < 25) {
                    category = 'Normal Weight';
                    resultClass = 'bmi-normal';
                    markerPosition = 20 + ((bmi - 18.5) / 6.5) * 20; // 20% to 40%
                } else if (bmi < 30) {
                    category = 'Overweight';
                    resultClass = 'bmi-overweight';
                    markerPosition = 40 + ((bmi - 25) / 5) * 30; // 40% to 70%
                } else {
                    category = 'Obese';
                    resultClass = 'bmi-obese';
                    markerPosition = 70 + Math.min((bmi - 30) / 10, 1) * 30; // 70% to 100%
                }

                bmiResultDiv.textContent = `BMI: ${roundedBmi}`;
                bmiResultDiv.className = `bmi-result ${resultClass}`;
                bmiCategoryDiv.textContent = `Category: ${category}`;
                
                // Clamp marker position between 0 and 100
                markerPosition = Math.min(100, Math.max(0, markerPosition)); 
                bmiMarker.style.left = `calc(${markerPosition}% - 15px)`;
            };

            calculateBmiBtn.addEventListener('click', calculateBMI);
            clearBmiCalculatorBtn.addEventListener('click', () => {
                heightInput.value = '';
                weightInput.value = '';
                bmiResultDiv.textContent = 'Enter your height and weight to calculate BMI';
                bmiResultDiv.className = 'result-box';
                bmiCategoryDiv.textContent = '';
                bmiMarker.style.left = '-100px'; // Hide marker
            });

            // 6. Age Calculator
            const birthDateInput = document.getElementById('birth-date');
            const ageAtDateInput = document.getElementById('age-at-date');
            const calculateAgeBtn = document.getElementById('calculate-age');
            const ageResultDiv = document.getElementById('age-result');
            const clearAgeCalculatorBtn = document.getElementById('clear-age-calculator');

            const calculateAge = () => {
                const birthDate = birthDateInput.value;
                const ageAtDateStr = ageAtDateInput.value;

                if (!birthDate) {
                    ageResultDiv.textContent = 'Please select a date of birth.';
                    return;
                }

                const dob = new Date(birthDate);
                const today = ageAtDateStr ? new Date(ageAtDateStr) : new Date();

                if (dob > today) {
                    ageResultDiv.textContent = 'Date of birth cannot be in the future.';
                    return;
                }

                let years = today.getFullYear() - dob.getFullYear();
                let months = today.getMonth() - dob.getMonth();
                let days = today.getDate() - dob.getDate();

                if (days < 0) {
                    months--;
                    const daysInLastMonth = new Date(today.getFullYear(), today.getMonth(), 0).getDate();
                    days += daysInLastMonth;
                }

                if (months < 0) {
                    years--;
                    months += 12;
                }

                ageResultDiv.innerHTML = `You are: <br> ${years} years, ${months} months, and ${days} days old.`;
            };

            calculateAgeBtn.addEventListener('click', calculateAge);
            clearAgeCalculatorBtn.addEventListener('click', () => {
                birthDateInput.value = '';
                ageAtDateInput.value = '';
                ageResultDiv.textContent = 'Select your date of birth to calculate age';
            });

            // 7. EMI Calculator
            const loanAmountInput = document.getElementById('loan-amount');
            const interestRateRange = document.getElementById('interest-rate');
            const loanTenureRange = document.getElementById('loan-tenure');
            const interestValueSpan = document.getElementById('interest-value');
            const tenureValueSpan = document.getElementById('tenure-value');
            const calculateEmiBtn = document.getElementById('calculate-emi');
            const emiAmountDiv = document.getElementById('emi-amount');
            const totalInterestDiv = document.getElementById('total-interest');
            const totalPaymentDiv = document.getElementById('total-payment');
            const clearEmiCalculatorBtn = document.getElementById('clear-emi-calculator');

            const updateEmiValues = () => {
                interestValueSpan.textContent = `${interestRateRange.value}%`;
                tenureValueSpan.textContent = `${loanTenureRange.value} months`;
            };

            interestRateRange.addEventListener('input', updateEmiValues);
            loanTenureRange.addEventListener('input', updateEmiValues);

            const calculateEMI = () => {
                const principal = parseFloat(loanAmountInput.value);
                const annualRate = parseFloat(interestRateRange.value) / 100;
                const tenureMonths = parseInt(loanTenureRange.value);

                if (isNaN(principal) || isNaN(annualRate) || isNaN(tenureMonths) || principal <= 0 || annualRate < 0 || tenureMonths <= 0) {
                    emiAmountDiv.textContent = '$0';
                    totalInterestDiv.textContent = '$0';
                    totalPaymentDiv.textContent = '$0';
                    return;
                }

                const monthlyRate = annualRate / 12;

                let emi;
                if (monthlyRate === 0) {
                    emi = principal / tenureMonths;
                } else {
                    const powerFactor = Math.pow(1 + monthlyRate, tenureMonths);
                    emi = principal * monthlyRate * powerFactor / (powerFactor - 1);
                }

                const totalPayment = emi * tenureMonths;
                const totalInterest = totalPayment - principal;

                emiAmountDiv.textContent = `$${emi.toFixed(2).toLocaleString('en-US')}`;
                totalInterestDiv.textContent = `$${totalInterest.toFixed(2).toLocaleString('en-US')}`;
                totalPaymentDiv.textContent = `$${totalPayment.toFixed(2).toLocaleString('en-US')}`;
            };

            calculateEmiBtn.addEventListener('click', calculateEMI);
            clearEmiCalculatorBtn.addEventListener('click', () => {
                loanAmountInput.value = '10000';
                interestRateRange.value = '7.5';
                loanTenureRange.value = '60';
                updateEmiValues();
                emiAmountDiv.textContent = '$0';
                totalInterestDiv.textContent = '$0';
                totalPaymentDiv.textContent = '$0';
            });

            // 8. Percentage Calculator
            const percentageTypeSelect = document.getElementById('percentage-type');
            const valueXInput = document.getElementById('value-x');
            const valueYInput = document.getElementById('value-y');
            const calculatePercentageBtn = document.getElementById('calculate-percentage');
            const percentageResultDiv = document.getElementById('percentage-result');
            const percentageFormulaDiv = document.getElementById('percentage-formula');
            const clearPercentageCalculatorBtn = document.getElementById('clear-percentage-calculator');

            const calculatePercentage = () => {
                const type = percentageTypeSelect.value;
                const x = parseFloat(valueXInput.value);
                const y = parseFloat(valueYInput.value);

                if (isNaN(x) || isNaN(y)) {
                    percentageResultDiv.textContent = 'Please enter valid numbers for Value X and Value Y.';
                    percentageFormulaDiv.textContent = '';
                    return;
                }

                let result = 0;
                let formulaText = '';

                switch (type) {
                    case 'x-is-what-percent-of-y':
                        if (y === 0) {
                            percentageResultDiv.textContent = 'Value Y cannot be zero.';
                            formulaText = '';
                            return;
                        }
                        result = (x / y) * 100;
                        formulaText = `(${x} / ${y}) * 100 = ${result.toFixed(2)}%`;
                        percentageResultDiv.textContent = `${x} is ${result.toFixed(2)}% of ${y}.`;
                        break;
                    case 'x-percent-of-y':
                        result = (x / 100) * y;
                        formulaText = `(${x} / 100) * ${y} = ${result.toFixed(2)}`;
                        percentageResultDiv.textContent = `${x}% of ${y} is ${result.toFixed(2)}.`;
                        break;
                    case 'percent-change':
                        if (x === 0) {
                            percentageResultDiv.textContent = 'Value X (Original) cannot be zero for percent change.';
                            formulaText = '';
                            return;
                        }
                        result = ((y - x) / x) * 100;
                        formulaText = `((${y} - ${x}) / ${x}) * 100 = ${result.toFixed(2)}%`;
                        percentageResultDiv.textContent = `The change from ${x} to ${y} is ${result.toFixed(2)}% (${result > 0 ? 'increase' : 'decrease'}).`;
                        break;
                }

                percentageFormulaDiv.textContent = `Formula: ${formulaText}`;
            };

            percentageTypeSelect.addEventListener('change', calculatePercentage);
            calculatePercentageBtn.addEventListener('click', calculatePercentage);
            [valueXInput, valueYInput].forEach(input => input.addEventListener('input', calculatePercentage)); // Live update

            clearPercentageCalculatorBtn.addEventListener('click', () => {
                percentageTypeSelect.selectedIndex = 0;
                valueXInput.value = '';
                valueYInput.value = '';
                percentageResultDiv.textContent = 'Select calculation type and enter values';
                percentageFormulaDiv.textContent = '';
            });

            // 9. Unit Converter
            const conversionTypeSelect = document.getElementById('conversion-type');
            const fromUnitSelect = document.getElementById('from-unit');
            const toUnitSelect = document.getElementById('to-unit');
            const fromValueInput = document.getElementById('from-value');
            const toValueInput = document.getElementById('to-value');
            const convertUnitsBtn = document.getElementById('convert-units');
            const clearUnitConverterBtn = document.getElementById('clear-unit-converter');

            const conversions = {
                length: {
                    m: { name: "Meter", toBase: 1, fromBase: 1 },
                    km: { name: "Kilometer", toBase: 1000, fromBase: 0.001 },
                    cm: { name: "Centimeter", toBase: 0.01, fromBase: 100 },
                    mm: { name: "Millimeter", toBase: 0.001, fromBase: 1000 },
                    mi: { name: "Mile", toBase: 1609.34, fromBase: 0.000621371 },
                    yd: { name: "Yard", toBase: 0.9144, fromBase: 1.09361 },
                    ft: { name: "Foot", toBase: 0.3048, fromBase: 3.28084 },
                    in: { name: "Inch", toBase: 0.0254, fromBase: 39.3701 }
                },
                weight: {
                    kg: { name: "Kilogram", toBase: 1, fromBase: 1 },
                    g: { name: "Gram", toBase: 0.001, fromBase: 1000 },
                    mg: { name: "Milligram", toBase: 0.000001, fromBase: 1000000 },
                    lb: { name: "Pound", toBase: 0.453592, fromBase: 2.20462 },
                    oz: { name: "Ounce", toBase: 0.0283495, fromBase: 35.274 }
                },
                temperature: {
                    c: { name: "Celsius", toBase: (v) => v, fromBase: (v) => v, conversion: 'c' },
                    f: { name: "Fahrenheit", toBase: (v) => (v - 32) * (5 / 9), fromBase: (v) => (v * (9 / 5)) + 32, conversion: 'f' },
                    k: { name: "Kelvin", toBase: (v) => v - 273.15, fromBase: (v) => v + 273.15, conversion: 'k' }
                },
                area: {
                    sqm: { name: "Square Meter", toBase: 1, fromBase: 1 },
                    sqkm: { name: "Square Kilometer", toBase: 1000000, fromBase: 0.000001 },
                    sqmi: { name: "Square Mile", toBase: 2589988.11, fromBase: 0.0000003861 },
                    sqft: { name: "Square Foot", toBase: 0.092903, fromBase: 10.7639 }
                },
                volume: {
                    cum: { name: "Cubic Meter", toBase: 1, fromBase: 1 },
                    litre: { name: "Litre", toBase: 0.001, fromBase: 1000 },
                    ml: { name: "Millilitre", toBase: 0.000001, fromBase: 1000000 },
                    gal: { name: "US Gallon", toBase: 0.00378541, fromBase: 264.172 }
                }
            };

            const populateUnits = (type) => {
                const unitData = conversions[type];
                fromUnitSelect.innerHTML = '';
                toUnitSelect.innerHTML = '';

                for (const code in unitData) {
                    const option = document.createElement('option');
                    option.value = code;
                    option.textContent = `${code} - ${unitData[code].name}`;
                    fromUnitSelect.appendChild(option.cloneNode(true));
                    toUnitSelect.appendChild(option);
                }

                // Set default selections
                fromUnitSelect.selectedIndex = 0;
                toUnitSelect.selectedIndex = 1;

                if (type === 'temperature') {
                    fromUnitSelect.value = 'c';
                    toUnitSelect.value = 'f';
                }
            };

            const convertUnits = () => {
                const type = conversionTypeSelect.value;
                const fromUnit = fromUnitSelect.value;
                const toUnit = toUnitSelect.value;
                const fromValue = parseFloat(fromValueInput.value);

                if (isNaN(fromValue) || !fromUnit || !toUnit) {
                    toValueInput.value = '';
                    return;
                }

                const unitData = conversions[type];
                let baseValue;
                let toValue;

                if (type === 'temperature') {
                    // Temperature is relative to Celsius (c)
                    if (fromUnit === 'c') {
                        baseValue = fromValue;
                    } else if (fromUnit === 'f') {
                        baseValue = unitData.f.toBase(fromValue);
                    } else if (fromUnit === 'k') {
                        baseValue = unitData.k.toBase(fromValue);
                    }

                    if (toUnit === 'c') {
                        toValue = baseValue;
                    } else if (toUnit === 'f') {
                        toValue = unitData.f.fromBase(baseValue);
                    } else if (toUnit === 'k') {
                        toValue = unitData.k.fromBase(baseValue);
                    }
                } else {
                    // Standard conversions (to base, then from base)
                    baseValue = fromValue * unitData[fromUnit].toBase;
                    toValue = baseValue * unitData[toUnit].fromBase;
                }

                toValueInput.value = toValue.toFixed(4);
            };

            conversionTypeSelect.addEventListener('change', (e) => {
                populateUnits(e.target.value);
                convertUnits();
            });
            fromUnitSelect.addEventListener('change', convertUnits);
            toUnitSelect.addEventListener('change', convertUnits);
            fromValueInput.addEventListener('input', convertUnits);
            convertUnitsBtn.addEventListener('click', convertUnits); // Button for manual conversion

            clearUnitConverterBtn.addEventListener('click', () => {
                fromValueInput.value = '1';
                toValueInput.value = '';
                populateUnits(conversionTypeSelect.value); // Reset selects
                convertUnits();
            });

            // Initial population of units
            populateUnits(conversionTypeSelect.value);
            convertUnits(); // Initial calculation

            // 10. Currency Converter (Simulated for API access restrictions)
            const fromCurrencyInput = document.getElementById('from-currency');
            const toCurrencyInput = document.getElementById('to-currency');
            const fromAmountInput = document.getElementById('from-amount');
            const toAmountInput = document.getElementById('to-amount');
            const convertCurrencyBtn = document.getElementById('convert-currency');
            const refreshRatesBtn = document.getElementById('refresh-rates');
            const exchangeRateDiv = document.getElementById('exchange-rate');
            const lastUpdatedDiv = document.getElementById('last-updated');
            const clearCurrencyConverterBtn = document.getElementById('clear-currency-converter');
            const fromCurrencyList = document.getElementById('from-currency-list');
            const toCurrencyList = document.getElementById('to-currency-list');

            // Hardcoded mock data (replace with actual API fetch)
            const mockRates = {
                USD: 1, EUR: 0.93, GBP: 0.82, JPY: 155.0, CAD: 1.37, AUD: 1.54, CNY: 7.23, INR: 83.3, KRW: 1369.0
            };
            const mockCurrencyNames = {
                USD: 'US Dollar', EUR: 'Euro', GBP: 'British Pound', JPY: 'Japanese Yen',
                CAD: 'Canadian Dollar', AUD: 'Australian Dollar', CNY: 'Chinese Yuan',
                INR: 'Indian Rupee', KRW: 'South Korean Won'
            };

            let currentRates = { ...mockRates };
            let lastUpdated = new Date().toLocaleString();

            const updateCurrencyList = (input, list) => {
                const filter = input.value.toUpperCase();
                list.innerHTML = '';
                
                const filteredCurrencies = Object.keys(mockCurrencyNames).filter(code => {
                    const name = mockCurrencyNames[code].toUpperCase();
                    return code.includes(filter) || name.includes(filter);
                });

                if (filteredCurrencies.length === 0) {
                    list.classList.remove('active');
                    return;
                }

                filteredCurrencies.forEach(code => {
                    const option = document.createElement('div');
                    option.className = 'currency-option';
                    option.innerHTML = `<span class="currency-code">${code}</span> - <span class="currency-name">${mockCurrencyNames[code]}</span>`;
                    option.onclick = () => {
                        input.value = code;
                        list.classList.remove('active');
                        convertCurrency();
                    };
                    list.appendChild(option);
                });

                list.classList.add('active');
            };

            const convertCurrency = () => {
                const fromCode = fromCurrencyInput.value.toUpperCase();
                const toCode = toCurrencyInput.value.toUpperCase();
                const amount = parseFloat(fromAmountInput.value);

                if (isNaN(amount) || amount <= 0 || !currentRates[fromCode] || !currentRates[toCode]) {
                    toAmountInput.value = '';
                    exchangeRateDiv.textContent = 'Exchange rate: Invalid input or unsupported currency.';
                    lastUpdatedDiv.textContent = `Last updated: ${lastUpdated}`;
                    return;
                }

                // Calculation: (Amount / From_Rate_vs_Base) * To_Rate_vs_Base
                // Since mockRates are all relative to USD (base rate 1), the calculation is simpler:
                // Converted = Amount * (ToRate / FromRate)
                const rate = currentRates[toCode] / currentRates[fromCode];
                const convertedAmount = amount * rate;

                toAmountInput.value = convertedAmount.toFixed(4);
                exchangeRateDiv.textContent = `Exchange rate: 1 ${fromCode} = ${rate.toFixed(4)} ${toCode}`;
                lastUpdatedDiv.textContent = `Last updated: ${lastUpdated}`;
            };
            
            // Toggle currency list visibility
            [fromCurrencyInput, toCurrencyInput].forEach(input => {
                input.addEventListener('input', () => {
                    if (input.id === 'from-currency') updateCurrencyList(fromCurrencyInput, fromCurrencyList);
                    else updateCurrencyList(toCurrencyInput, toCurrencyList);
                });
                input.addEventListener('focus', () => {
                    if (input.id === 'from-currency') updateCurrencyList(fromCurrencyInput, fromCurrencyList);
                    else updateCurrencyList(toCurrencyInput, toCurrencyList);
                });
                input.addEventListener('blur', (e) => {
                    // Use a small delay to allow click events on the list options to register
                    setTimeout(() => {
                        if (!e.relatedTarget || !e.relatedTarget.closest('.currency-list')) {
                             if (input.id === 'from-currency') fromCurrencyList.classList.remove('active');
                            else toCurrencyList.classList.remove('active');
                        }
                    }, 100);
                });
            });

            convertCurrencyBtn.addEventListener('click', convertCurrency);
            fromAmountInput.addEventListener('input', convertCurrency);
            
            refreshRatesBtn.addEventListener('click', () => {
                // In a real application, this would fetch new data
                lastUpdated = new Date().toLocaleString();
                convertCurrency();
                refreshRatesBtn.textContent = 'Rates Refreshed!';
                setTimeout(() => {
                    refreshRatesBtn.textContent = 'Refresh Rates';
                }, 2000);
            });

            clearCurrencyConverterBtn.addEventListener('click', () => {
                fromCurrencyInput.value = 'USD';
                toCurrencyInput.value = 'EUR';
                fromAmountInput.value = '1';
                toAmountInput.value = '';
                exchangeRateDiv.textContent = 'Exchange rate: ';
                lastUpdatedDiv.textContent = 'Last updated: ';
                convertCurrency();
            });

            // Initial currency conversion display
            convertCurrency();

            // 11. Timer/Stopwatch
            const modeBtns = document.querySelectorAll('#timer-stopwatch .case-btn');
            const timerSection = document.getElementById('timer-section');
            const stopwatchSection = document.getElementById('stopwatch-section');

            // Timer Elements
            const hoursInput = document.getElementById('hours');
            const minutesInput = document.getElementById('minutes');
            const secondsInput = document.getElementById('seconds');
            const timerDisplay = document.getElementById('timer-display');
            const startTimerBtn = document.getElementById('start-timer');
            const pauseTimerBtn = document.getElementById('pause-timer');
            const resetTimerBtn = document.getElementById('reset-timer');
            const clearTimerBtn = document.getElementById('clear-timer');
            let timerInterval;
            let timeRemaining = 0;
            let isTimerRunning = false;

            // Stopwatch Elements
            const stopwatchDisplay = document.getElementById('stopwatch-display');
            const startStopwatchBtn = document.getElementById('start-stopwatch');
            const stopStopwatchBtn = document.getElementById('stop-stopwatch');
            const resetStopwatchBtn = document.getElementById('reset-stopwatch');
            const clearStopwatchBtn = document.getElementById('clear-stopwatch');
            let stopwatchInterval;
            let elapsedTime = 0;
            let isStopwatchRunning = false;

            // Mode switching
            modeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    modeBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    const mode = btn.getAttribute('data-mode');

                    if (mode === 'timer') {
                        timerSection.style.display = 'block';
                        stopwatchSection.style.display = 'none';
                        // Reset stopwatch
                        clearInterval(stopwatchInterval);
                        isStopwatchRunning = false;
                        stopwatchDisplay.textContent = '00:00:00';
                        elapsedTime = 0;
                    } else {
                        timerSection.style.display = 'none';
                        stopwatchSection.style.display = 'block';
                        // Reset timer
                        clearInterval(timerInterval);
                        isTimerRunning = false;
                        startTimerBtn.textContent = 'Start';
                    }
                });
            });

            // Helper function to format time
            const formatTime = (totalSeconds) => {
                const h = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
                const m = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
                const s = String(totalSeconds % 60).padStart(2, '0');
                return `${h}:${m}:${s}`;
            };

            // --- Timer Logic ---
            const startTimer = () => {
                if (isTimerRunning) return;

                if (timeRemaining === 0) {
                    const h = parseInt(hoursInput.value) || 0;
                    const m = parseInt(minutesInput.value) || 0;
                    const s = parseInt(secondsInput.value) || 0;
                    timeRemaining = (h * 3600) + (m * 60) + s;
                }

                if (timeRemaining <= 0) {
                    timerDisplay.textContent = '00:00:00';
                    return;
                }

                isTimerRunning = true;
                startTimerBtn.textContent = 'Running...';
                startTimerBtn.disabled = true;

                timerInterval = setInterval(() => {
                    timeRemaining--;
                    timerDisplay.textContent = formatTime(timeRemaining);

                    if (timeRemaining <= 0) {
                        clearInterval(timerInterval);
                        isTimerRunning = false;
                        timerDisplay.textContent = 'Time Up!';
                        startTimerBtn.textContent = 'Start';
                        startTimerBtn.disabled = false;
                        // Alert or notification for time up
                        alert("Timer finished!");
                    }
                }, 1000);
            };

            const pauseTimer = () => {
                if (!isTimerRunning) return;
                clearInterval(timerInterval);
                isTimerRunning = false;
                startTimerBtn.textContent = 'Resume';
                startTimerBtn.disabled = false;
            };

            const resetTimer = () => {
                clearInterval(timerInterval);
                isTimerRunning = false;
                timeRemaining = 0;
                timerDisplay.textContent = '00:00:00';
                startTimerBtn.textContent = 'Start';
                startTimerBtn.disabled = false;
                // Keep the input values but stop the countdown
            };

            const clearTimer = () => {
                resetTimer();
                hoursInput.value = '';
                minutesInput.value = '';
                secondsInput.value = '';
            };

            startTimerBtn.addEventListener('click', startTimer);
            pauseTimerBtn.addEventListener('click', pauseTimer);
            resetTimerBtn.addEventListener('click', resetTimer);
            clearTimerBtn.addEventListener('click', clearTimer);

            // --- Stopwatch Logic ---
            const startStopwatch = () => {
                if (isStopwatchRunning) return;
                isStopwatchRunning = true;
                startStopwatchBtn.textContent = 'Running...';
                startStopwatchBtn.disabled = true;
                stopStopwatchBtn.disabled = false;

                stopwatchInterval = setInterval(() => {
                    elapsedTime++;
                    stopwatchDisplay.textContent = formatTime(elapsedTime);
                }, 1000);
            };

            const stopStopwatch = () => {
                if (!isStopwatchRunning) return;
                clearInterval(stopwatchInterval);
                isStopwatchRunning = false;
                startStopwatchBtn.textContent = 'Resume';
                startStopwatchBtn.disabled = false;
            };

            const resetStopwatch = () => {
                clearInterval(stopwatchInterval);
                isStopwatchRunning = false;
                elapsedTime = 0;
                stopwatchDisplay.textContent = '00:00:00';
                startStopwatchBtn.textContent = 'Start';
                startStopwatchBtn.disabled = false;
                stopStopwatchBtn.disabled = true;
            };

            startStopwatchBtn.addEventListener('click', startStopwatch);
            stopStopwatchBtn.addEventListener('click', stopStopwatch);
            resetStopwatchBtn.addEventListener('click', stopStopwatch); // For UX, 'Reset' button actually stops it
            clearStopwatchBtn.addEventListener('click', resetStopwatch);


            // 12. QR Code Generator
            const qrTextarea = document.getElementById('qr-text');
            const generateQrBtn = document.getElementById('generate-qr');
            const qrCodeDiv = document.getElementById('qrcode');
            const downloadQrBtn = document.getElementById('download-qr');
            const clearQrGeneratorBtn = document.getElementById('clear-qr-generator');
            let qrCodeInstance = null;

            const generateQRCode = () => {
                const text = qrTextarea.value.trim();

                if (!text) {
                    qrCodeDiv.innerHTML = '<p style="color:#666; font-style:italic;">Enter text or URL above to generate a QR code.</p>';
                    downloadQrBtn.style.display = 'none';
                    return;
                }

                // Clear previous QR code
                qrCodeDiv.innerHTML = '';
                downloadQrBtn.style.display = 'none';

                qrCodeInstance = new QRCode(qrCodeDiv, {
                    text: text,
                    width: 200,
                    height: 200,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });

                // Wait a moment for the canvas to be created
                setTimeout(() => {
                    if (qrCodeDiv.querySelector('canvas') || qrCodeDiv.querySelector('img')) {
                        downloadQrBtn.style.display = 'block';
                    }
                }, 100);
            };

            const downloadQRCode = () => {
                const canvas = qrCodeDiv.querySelector('canvas');
                if (canvas) {
                    const dataURL = canvas.toDataURL("image/png");
                    const a = document.createElement('a');
                    a.href = dataURL;
                    a.download = 'qrcode.png';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                } else {
                    alert("QR Code image not ready for download.");
                }
            };

            generateQrBtn.addEventListener('click', generateQRCode);
            downloadQrBtn.addEventListener('click', downloadQRCode);
            clearQrGeneratorBtn.addEventListener('click', () => {
                qrTextarea.value = '';
                qrCodeDiv.innerHTML = '<p style="color:#666; font-style:italic;">Enter text or URL above to generate a QR code.</p>';
                downloadQrBtn.style.display = 'none';
            });

            // Initial state
            qrCodeDiv.innerHTML = '<p style="color:#666; font-style:italic;">Enter text or URL above to generate a QR code.</p>';


            // 13. Base64 Tool
            const base64Input = document.getElementById('base64-input');
            const base64Output = document.getElementById('base64-output');
            const base64Btns = document.querySelectorAll('.base64-tool .case-btn');
            const copyBase64Btn = document.getElementById('copy-base64');
            const clearBase64ToolBtn = document.getElementById('clear-base64-tool');
            const base64InfoLink = document.getElementById('base64-info');
            const base64Modal = document.getElementById('base64Modal');
            const closeModal = document.querySelector('.close-modal');
            let currentBase64Action = 'encode';

            const processBase64 = () => {
                const text = base64Input.value.trim();
                let result = '';

                try {
                    if (currentBase64Action === 'encode') {
                        result = btoa(unescape(encodeURIComponent(text)));
                    } else { // decode
                        result = decodeURIComponent(escape(atob(text)));
                    }
                } catch (e) {
                    result = 'ERROR: Invalid Base64 string for decoding.';
                }
                base64Output.value = result;
            };

            base64Btns.forEach(btn => {
                btn.addEventListener('click', () => {
                    currentBase64Action = btn.getAttribute('data-action');
                    base64Btns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    processBase64();
                });
            });

            base64Input.addEventListener('input', processBase64);
            copyBase64Btn.addEventListener('click', () => copyToClipboard(base64Output.value, copyBase64Btn));
            clearBase64ToolBtn.addEventListener('click', () => {
                base64Input.value = '';
                base64Output.value = '';
            });

            // Modal functionality
            base64InfoLink.addEventListener('click', (e) => {
                e.preventDefault();
                base64Modal.style.display = 'flex';
            });

            closeModal.addEventListener('click', () => {
                base64Modal.style.display = 'none';
            });

            window.addEventListener('click', (event) => {
                if (event.target === base64Modal) {
                    base64Modal.style.display = 'none';
                }
            });


            // 14. Password Generator
            const passwordLengthRange = document.getElementById('password-length');
            const lengthValueSpan = document.getElementById('length-value');
            const uppercaseCheck = document.getElementById('uppercase');
            const lowercaseCheck = document.getElementById('lowercase');
            const numbersCheck = document.getElementById('numbers');
            const symbolsCheck = document.getElementById('symbols');
            const generatePasswordBtn = document.getElementById('generate-password');
            const passwordResultDiv = document.getElementById('password-result');
            const copyPasswordBtn = document.getElementById('copy-password');
            const clearPasswordGeneratorBtn = document.getElementById('clear-password-generator');

            const characters = {
                uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
                lowercase: 'abcdefghijklmnopqrstuvwxyz',
                numbers: '0123456789',
                symbols: '!@#$%^&*()_+~`|}{[]:;?><,./-='
            };

            passwordLengthRange.addEventListener('input', () => {
                lengthValueSpan.textContent = passwordLengthRange.value;
            });

            const generatePassword = () => {
                const length = parseInt(passwordLengthRange.value);
                let charSet = '';
                let password = '';

                if (uppercaseCheck.checked) charSet += characters.uppercase;
                if (lowercaseCheck.checked) charSet += characters.lowercase;
                if (numbersCheck.checked) charSet += characters.numbers;
                if (symbolsCheck.checked) charSet += characters.symbols;

                if (charSet.length === 0) {
                    passwordResultDiv.textContent = 'Select at least one character type.';
                    copyPasswordBtn.style.display = 'none';
                    return;
                }

                // Ensure at least one of each selected type is included
                const mustInclude = [];
                if (uppercaseCheck.checked) mustInclude.push(characters.uppercase[Math.floor(Math.random() * characters.uppercase.length)]);
                if (lowercaseCheck.checked) mustInclude.push(characters.lowercase[Math.floor(Math.random() * characters.lowercase.length)]);
                if (numbersCheck.checked) mustInclude.push(characters.numbers[Math.floor(Math.random() * characters.numbers.length)]);
                if (symbolsCheck.checked) mustInclude.push(characters.symbols[Math.floor(Math.random() * characters.symbols.length)]);
                
                // Fill the rest of the password
                for (let i = mustInclude.length; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charSet.length);
                    password += charSet[randomIndex];
                }

                // Combine and shuffle (to randomize the position of the must-include characters)
                password = (mustInclude.join('') + password).split('').sort(() => 0.5 - Math.random()).join('');
                password = password.substring(0, length); // Truncate to exact length

                passwordResultDiv.textContent = password;
                copyPasswordBtn.style.display = 'inline-block';
            };

            generatePasswordBtn.addEventListener('click', generatePassword);
            copyPasswordBtn.addEventListener('click', () => copyToClipboard(passwordResultDiv.textContent, copyPasswordBtn));
            clearPasswordGeneratorBtn.addEventListener('click', () => {
                passwordLengthRange.value = '12';
                lengthValueSpan.textContent = '12';
                uppercaseCheck.checked = true;
                lowercaseCheck.checked = true;
                numbersCheck.checked = true;
                symbolsCheck.checked = false;
                passwordResultDiv.textContent = 'Click "Generate" to create a password';
                copyPasswordBtn.style.display = 'none';
            });

            // 15. Color Picker Tool
            const colorSelector = document.getElementById('color-selector');
            const colorPreview = document.getElementById('color-preview');
            const hexValueSpan = document.getElementById('hex-value');
            const rgbValueSpan = document.getElementById('rgb-value');
            const hslValueSpan = document.getElementById('hsl-value');
            const clearColorPickerBtn = document.getElementById('clear-color-picker');

            const hexToRgb = (hex) => {
                const bigint = parseInt(hex.slice(1), 16);
                const r = (bigint >> 16) & 255;
                const g = (bigint >> 8) & 255;
                const b = bigint & 255;
                return `rgb(${r}, ${g}, ${b})`;
            };

            const rgbToHsl = (r, g, b) => {
                r /= 255;
                g /= 255;
                b /= 255;

                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;

                if (max === min) {
                    h = s = 0; // achromatic
                } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    h /= 6;
                }

                return `hsl(${Math.round(h * 360)}, ${Math.round(s * 100)}%, ${Math.round(l * 100)}%)`;
            };

            const updateColor = () => {
                const hex = colorSelector.value;
                colorPreview.style.backgroundColor = hex;
                
                const rgb = hexToRgb(hex);
                const [r, g, b] = rgb.match(/\d+/g).map(Number);
                const hsl = rgbToHsl(r, g, b);

                hexValueSpan.textContent = hex;
                rgbValueSpan.textContent = rgb;
                hslValueSpan.textContent = hsl;

                // Also update the gradient generator's first color live
                document.getElementById('color-one').value = hex;
                updateGradient();
            };

            colorSelector.addEventListener('input', updateColor);
            clearColorPickerBtn.addEventListener('click', () => {
                colorSelector.value = '#5e81fe'; // Reset to default primary color
                updateColor();
            });

            // 16. Gradient Generator
            const color1 = document.getElementById('color-one');
            const color2 = document.getElementById('color-two');
            const gradientDirection = document.getElementById('gradient-direction');
            const gradientPreview = document.getElementById('gradient-preview');
            const gradientCode = document.getElementById('gradient-code');
            const copyGradientBtn = document.getElementById('copy-gradient');

            const updateGradient = () => {
                const dir = gradientDirection.value;
                let gradient = '';

                if (dir === 'radial') {
                    gradient = `radial-gradient(circle, ${color1.value}, ${color2.value})`;
                } else {
                    gradient = `linear-gradient(${dir}, ${color1.value}, ${color2.value})`;
                }
                
                gradientPreview.style.background = gradient;
                gradientCode.textContent = `background: ${gradient};`;
            };

            color1.addEventListener('input', updateGradient);
            color2.addEventListener('input', updateGradient);
            gradientDirection.addEventListener('change', updateGradient);

            copyGradientBtn.addEventListener('click', () => {
                const code = gradientCode.textContent;
                navigator.clipboard.writeText(code).then(() => {
                    copyGradientBtn.textContent = 'Copied!';
                    setTimeout(() => {
                        copyGradientBtn.textContent = 'Copy CSS Code';
                    }, 2000);
                });
            });

            // Clear Gradient Generator
            document.getElementById('clear-gradient-generator').addEventListener('click', () => {
                color1.value = '#5e81fe';
                color2.value = '#000B58';
                gradientDirection.selectedIndex = 0;
                updateGradient();
            });

            // Initialize tools
            updateColor();
            updateGradient();
            
            // Initialize existing tools
            updateWordCount();
            convertCase();
        });
 </script>
</body>
</html>
